{namespace s=Subugoe\Find\ViewHelpers}
{namespace g=Gjz18\TmplGjz\ViewHelpers}

<f:if condition="{s:data.isArray(subject:'{s:data.valueForKey(array:document.fields, key:field)}')}">
	<f:if condition="{f:count(subject:'{s:data.valueForKey(array:document.fields, key:field)}')} != 1">
		<f:then>
			<label>
				Körperschaften :
			</label>
			<output>
				<ul style="margin-bottom:0px;">
					{groupPrefix->f:format.raw()}
					<f:for each="{s:data.valueForKey(array:document.fields, key:field)}" as="value" iteration="iterator">
						{groupItemPrefix->f:format.raw()}{fieldPrefix->f:format.raw()}
							<f:alias map="{
								fieldContentArr:'{s:data.valueForKey(array:document.fields, key:field)}'
							}">
								<f:alias map="{
									fieldContent:'{s:data.valueForKey(array:fieldContentArr, key:iterator.index)}'
								}">
									<li>
										{fieldContent}
									</li>
								</f:alias>
							</f:alias>
						{fieldSuffix->f:format.raw()}{f:if(condition:"{iterator.isLast}==0", then:separator)}{groupItemSuffix->f:format.raw()}
					</f:for>
					{groupSuffix->f:format.raw()}
				</ul>
			</output>
		</f:then>
		<f:else>
			<label>
				Körperschaft :
			</label>
			<output>
				<f:alias map="{
					fieldContentArr:'{s:data.valueForKey(array:document.fields, key:field)}'
				}">
					<f:alias map="{
						fieldContent:'{s:data.valueForKey(array:fieldContentArr, key:0)}'
					}">
						{fieldContent}
					</f:alias>
				</f:alias>
			</output>
		</f:else>
	</f:if>
</f:if>